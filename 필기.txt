# Git

- C: \code\git

Git 프로그램 설치
- https://git-scm.com/downloads\

Git 수업

1. Git 사용법
    - 혼자 or 협업
    - 버전 관리(***)
    - CLI 기반 명령어
    - GUI 프로그램 (git 기반 + ui 제공)
        - git desktop
        - git kraken
        - git source tree

2. GitHub 사용법
    - Git을 인터넷 상에서 협업을 가능하게 해주는 온라인 서비스
    - Git을 원격 저장소로 사용할 수 있게 해줌
    - 온라인 저장소 공간을 제공
    - GitLab, Bitbucket 등...

Git
- Version Control System, 버전 관리 시스템
- 소스 코드의 변경 이력을 관리하는 시스템
- 내가 원하는 시점 > 파일과 디렉토리의 상태를 미러 저장(=버젼)해 놓고 
    > 나중에 필요에 따라 그 시점으로 돌아갈 수 있게 해주는 시스템

이전 버전 관리 시스템
- CVS
- SVN
- Git

Git 학습 곡선
- 학습 난이도가 높다.
- 간단한 개인 작업 or 토이 프로젝트(팀 프로젝트) > Git 적용 > 되려 프로젝트가 어려워진다.
- 복잡하고 규모가 큰 프로젝트 > git 적용 > 프로젝트 난이도가 낮아진다.

Git 실행하기
1. cmd > git (옵션)
2. git bash > MingGW, 리눅스 쉘을 모방

Git 설정하기
1. 사용자 정보 등록하기
    - 버전을 누가 생성/관리하는지 기록하기 위해서
    - --global 옵션을 사용하면 모든 레포지토리에 적용된다.

$ git config -- global user.name "이름"
$ git config -- global user.email "이메일"

$ git config -- global -- list // 설정 확인

$ git config -- global -- unset user.name // 설정 삭제
$ git config -- global -- unset user.email // 설정 삭제

2. 기본 브랜치명 바꾸기
$ git config -- global init.defaultBranch "브랜치명"

3. 엔터 설정하기
- 협업 > 윈도우 사용자 + 맥 사용자 + 리눅스 사용자 > 엔터 줄바꿈 방식 다름
        -윈도우: (\r\n) , 맥: (\n) , 리눅스: (\n)
- Git > 커밋 발생 > 모든 엔터를 \n 변환
        > 체크아웃 (다운로드) > \r\n 변환
$ git config --global core.autocrlf true // 커밋 시 \r\n 변환

4. Git bash 에서 한글이 깨질 때
$ git config --global i18n.commitencoding utf-8 // 커밋 시 한글 깨짐 방지
$ git config --global core.quotepath false // 파일 경로 한글 깨짐 방지

Git 구조
1. Working Directory: 작업 디렉토리
    - 우리가 사용하는 폴더
    a. untracked
    b. tracked

2. Staging Area: 커밋 대기 영역
    - 커밋을 위한 준비 영역

3. Repository: 저장소

내가 사용할 디렉토리 > git init > Repository 생성(초기화)

복사하기 > CTRL + insert 
붙여넣기 > SHIFT + insert

- 포함되면 절대 안되는 경우
    ex) 보안 관련 파일 등

예외 파일 직접 설정
$ git config --global -- add .gitignore "파일명"
$ git config --global -- add .gitignore "폴더명"
$ git config --global -- add .gitignore "*.확장자"

.gitignore 파일 생성

버전 만들기
1. 버전에 포함될 파일을 추가하기
2. 버전 만들기

"요구사항.txt"
"순서도.txt"
-------------------------------- 여기까지 버전1

버전(커밋)에 포함될 파일을 추가하기
- 백업할 파일을 선택하는 행동

$ git add "파일명"
$ git add . // 모든 파일 추가

- 백업에 포함된 파일을 제거하기
$ git rm --cached "파일명"
$ git rm --cached . // 모든 파일 제거

-버전(커밋)을 만들기
 > 현재 시점의 상태 > 백업본 만들기

 $ git commit -m "커밋 메시지"

 커밋 이력을 확인하기

 $ git log

 커밋 메시지 작성법
 - 커밋 > 의미있는 변화시!
        > 단위 작업별 생성
        > 나름대로의 일정한 규칙 생성

커밋 메시지 작성
- 이전 커밋과 현재 커밋의 변화를 작성

커밋 메시지 구조
<제목(헤더, 필수)>

<본문(선택)>

제목
- 50자 이내로 간결하게 작성
- 첫 글자는 대문자
- 보통 영어로 작성
- 제목 끝에 마침표 X
- 명령문 형태로 작성한다.(ex. Add Feature, Fix bug)

본문
- 제목 외의 상세한 설명
- 컬럼(72자 이내)

커밋 메시지 타입
- feat: 새로운 기능 추가
- fix: 버그수정
- docs: 문서 수정
- style: 코드 포맷팅 등
- test: 테스트 코드 추가/수정

내역 확인하기 
- HEAD(현재 위치가 이 커밋입니다.) 포인터역할
- 옵션
    1. -p : 각 커밋의 변경 내역(diff)를 함께 보여준다. >patch 의 약자
    2. --oneline: 한 줄 커밋 메시지 출력
    3. -n <숫자>: 최근 n개 커밋만 출력
    4. --stat: 수정된 파일과 변경된 행 수 요약 표시
    5. --author=<이름>
    6. -all: 모든 브랜치 조회
    7. --graph: 브랜치 현황을 그래프로 출력

버전 비교하기
$ git diff
$ git diff --cached
$ git diff [커밋ID]
$ git diff [이전 커밋ID] [최신 커밋ID]

$git diff d436c1a da74892

커밋 다루기
1. checkout
2. reset
3. revert

브랜치
1. switch
2. merge
3. rebase

checkout 명령어
- 버전간 이동하기
- 읽기 전용으로 사용한다.
- 과거 커밋으로 이동 후 새로운 분기(브랜치)를 생성할 때

$ git checkout <커밋ID>    > 원하는 커밋으로 되돌아감

$ git reflog   > 현 시점 상관없이 모든 로그를 보여줌

특정 커밋을 지정하는 방식 > head를 움직이는 명령어 / main은 따로 있음
$ git checkout <커밋ID>
최신 커밋으로 돌아가기 / main(브랜치) > 항상 최신임 
$ git checkout main
$ git checkout HEAD

$ git checkout HEAD^   > 이전커밋
$ git checkout HEAD~   > 이전커밋
$ git checkout HEAD~1  > 이전커밋
$ git checkout HEAD^^  > 현재 기준 2단계 전 커밋
$ git checkout HEAD^2  > 현재 기준 2단계 전 커밋
$ git checkout HEAD~2  > 현재 기준 2단계 전 커밋

커밋의 ID
- SHA-1 알고리즘(해시)

- 해시 알고리즘 >  어떤 데이터를 입력하든 항상 고정된 문자열을 반환하는 알고리즘

reset 명령어
- 과거 시점의 특정 커밋으로 이동해서 > 그 커밋 이후의 커밋을 삭제한다.

$ git reset --hard <커밋 ID>

$ git reset --hard 3734a27
$ git reset --hard HEAD^
$ git reset --hard HEAD~


혹시 > reset 하기 전으로 돌아가기

$ git reflog
$ git reset --hard 7222480





revert 명령어
- reset과 비슷한 용도의 명령어
- 과거 시점의 특정 커밋을 취소(삭제x)하는 역할
- 협업에서 reset 대신 많이 사용

$ git revert <취소하려는 커밋 ID>

$ git revert 7222480

$ git revert <과거 ID>..<미래 ID>
$ git revert 3..5






브랜치, branch
- 여러가지 작업을 각각 분리시켜 진행하고 싶을 때
- ex) 게시판 업무 > 브랜치 생성 > 게시판 구현 > 브랜치 병합


브랜치 확인하기
- 최소 1개 이상의 커밋이 존재해야 브랜치가 존재한다.

$ git init

$ git branch

"index.html"

$ git add .

$ git commit -m "create index.html"

$ git branch


//게시판 구현
$ git branch <브랜치명>

$ git branch board

$ git branch

//브랜치 이동하기
//1. checkout > 비권장
//2. switch > 권장

$ git checkout board
$ git switch board

"board.html"

$ git add .
$ git commit -m "create board.html"

$ git switch main

